# ■第７回課題

 - 今回の課題や感想を提出

## ○脆弱性の観点としては4つある

## ①アプリケーション全体の脆弱性

・アプリケーションコードや昨日追加のためのモジュールやライブラリが脆弱性と挙げられる
・講師の方も言っておられたが、ある程度汎用的のため、攻略される可能性もある。
・また、バージョンが古いとそこを攻撃されそう


対策面としては、
・CodeGuru ReviewerというAmazon CodeGuruの機能がある
・コードをスキャンして、改善案を提案してくれる
・ただし、10万行ごとに10ドルかかりそれなり高額


## ②Webアプリケーションの脆弱性

・Webサイトのために作られた技術を転用しているため、仕組み上弱い部分がある

有名なOWASPという団体が公表している重大な10つの対策方法は[こちら](https://owasp.org/www-project-top-ten/)

セキュリティログと監視の失敗という事象もあり、これは今回の課題のRDSでMySQLでデータベースを作成する際に、ログのエクスポートにチェックを入れる必要があったが、それと関係していそう（そもそもログを残すという思想が大事とあった）

代表的な対策としては、

・WAF（Web Application Firewall）の導入が挙げられる
・WAF料金は、100万の検査につき、1USドルでそこまで高くない？
実際に見積る必要あり、[詳細はこちら](https://aws.amazon.com/jp/waf/pricing/)
・SSL接続（httpsにするやつ）
・AWS Certificate Manager（ACM）はSSL証明書を発行するマネージドサービス


## ③OS・ミドルウェア
・脆弱性の情報を取りまとめているCVSSというシステムがあり
・日本でのデータベースはJVNといい、基本[ここ](https://jvndb.jvn.jp/)をみておけばOK



・AWSとしてての対策は、Inspecterが脆弱性のスキャンを行うサービスがある
・自動修復機能はなく、対処方法は別途考えなくてはいけない



## ④ネットワーク、その他
・ネットワークにおける通信の許可設定や、IAM の権限が脆弱性として代表的
・具体的には、セキュリティグループのインバウンドルールでポート番号の設定ミスなどが考えられそう
・IAMの権限では、外部の人に不要な権限を与えて予期せぬ設定に変更してしまったなどがありそう

・特にこの領域は人的な部分が多いかなと想像


## ○認証情報の流出について

## ①大きく分けて2種類「IAM」と「アプリケーション」

・「IAM」・・・IAMユーザーのパスワードやIAMのアクセスキーがこれにあたる
→本人以外がログインできなくしたり、権限をReadOnlyにする

・「アプリケーション」・・・管理者ページへのログイン情報やDB接続情報
→情報を知る人を減らしたり、暗号化する


AWSのサービスとしては

・AWS Key Management Service（KMS）という暗号鍵マネージドサービス
・Secrets Managerは、秘匿すねき情報をKMSで暗号化して安全に保管、呼び出すサービス


## ○人為的な過負荷について

・DDoS攻撃が代表的で、受け取るのではなくブロックすべき
・AWS Shield がDDo S攻撃から保護してくれるマネージドサービス
・初期で、無料で適用されている
・Shield Advancedは超高額であるため、検討の際は要注意（基本Standardで事足りる）


## ○その他のAWSセキュリティ関連のサービス
・IAM Access Analyzerが、各種ポリシーのチェックを行い、権限のチェックができる
・Amazon GuardDutyは、セキュリティインシデントの疑いのあるイベントを指摘してくれる
・支払い金額は被害に対して、コスパは非常によい


## ■疑問点や思ったことなど

 - AWSのセキュリティ関連サービスのベストプラクティスはケースごとに知っておけたらいいなと思った

→調べたら、まとめ記事があったので、実装の際は要チェック[（こちら）](https://sysdig.jp/blog/26-aws-security-best-practices/)

 - 結構セキュリティ関連の事故は多くなっていると予想（特にリモートなどの環境の変化で）

[割りやすい事例記事](https://www.rworks.jp/system/system-column/sys-entry/21978/)